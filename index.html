<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Echo by webx-top</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Echo</h1>
      <h2 class="project-tagline">FastHTTP &amp; net/http dual-engine web framework. Echo v2 enhanced version.</h2>
      <a href="https://github.com/webx-top/echo" class="btn">View on GitHub</a>
      <a href="https://github.com/webx-top/echo/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/webx-top/echo/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="echo" class="anchor" href="#echo" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Echo</h1>

<p><a href="https://travis-ci.org/webx-top/echo"><img src="https://travis-ci.org/webx-top/echo.svg?branch=master" alt="Build Status"></a> <a href="https://goreportcard.com/report/github.com/webx-top/echo"><img src="https://goreportcard.com/badge/github.com/webx-top/echo" alt="Go Report Card"></a></p>

<h4>
<a id="echo-is-a-fast-and-unfancy-web-framework-for-go-golang-up-to-10x-faster-than-the-rest" class="anchor" href="#echo-is-a-fast-and-unfancy-web-framework-for-go-golang-up-to-10x-faster-than-the-rest" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Echo is a fast and unfancy web framework for Go (Golang). Up to 10x faster than the rest.</h4>

<h2>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Features</h2>

<ul>
<li>Optimized HTTP router which smartly prioritize routes.</li>
<li>Build robust and scalable RESTful APIs.</li>
<li>Run with standard HTTP server or FastHTTP server.</li>
<li>Group APIs.</li>
<li>Extensible middleware framework.</li>
<li>Define middleware at root, group or route level.</li>
<li>Handy functions to send variety of HTTP responses.</li>
<li>Centralized HTTP error handling.</li>
<li>Template rendering with any template engine.</li>
<li>Define your format for the logger.</li>
<li>Highly customizable.</li>
</ul>

<h2>
<a id="quick-start" class="anchor" href="#quick-start" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Quick Start</h2>

<h3>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h3>

<div class="highlight highlight-source-shell"><pre>$ go get github.com/webx-top/echo</pre></div>

<h3>
<a id="hello-world" class="anchor" href="#hello-world" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Hello, World!</h3>

<p>Create <code>server.go</code></p>

<div class="highlight highlight-source-go"><pre><span class="pl-k">package</span> main

<span class="pl-k">import</span> (
    <span class="pl-s"><span class="pl-pds">"</span>net/http<span class="pl-pds">"</span></span>
    <span class="pl-s"><span class="pl-pds">"</span>github.com/webx-top/echo<span class="pl-pds">"</span></span>
    <span class="pl-s"><span class="pl-pds">"</span>github.com/webx-top/echo/engine/standard<span class="pl-pds">"</span></span>
)

<span class="pl-k">func</span> <span class="pl-en">main</span>() {
    <span class="pl-smi">e</span> <span class="pl-k">:=</span> echo.<span class="pl-c1">New</span>()
    e.<span class="pl-c1">Get</span>(<span class="pl-s"><span class="pl-pds">"</span>/<span class="pl-pds">"</span></span>, <span class="pl-c1">func</span>(c echo.<span class="pl-smi">Context</span>) <span class="pl-k">error</span> {
        <span class="pl-k">return</span> c.<span class="pl-c1">String</span>(<span class="pl-s"><span class="pl-pds">"</span>Hello, World!<span class="pl-pds">"</span></span>, http.<span class="pl-smi">StatusOK</span>)
    })
    e.<span class="pl-c1">Run</span>(standard.<span class="pl-c1">New</span>(<span class="pl-s"><span class="pl-pds">"</span>:1323<span class="pl-pds">"</span></span>))
}</pre></div>

<p>Start server</p>

<div class="highlight highlight-source-shell"><pre>$ go run server.go</pre></div>

<p>Browse to <a href="http://localhost:1323">http://localhost:1323</a> and you should see
Hello, World! on the page.</p>

<h3>
<a id="routing" class="anchor" href="#routing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Routing</h3>

<div class="highlight highlight-source-go"><pre>e.<span class="pl-c1">Post</span>(<span class="pl-s"><span class="pl-pds">"</span>/users<span class="pl-pds">"</span></span>, saveUser)
e.<span class="pl-c1">Get</span>(<span class="pl-s"><span class="pl-pds">"</span>/users/:id<span class="pl-pds">"</span></span>, getUser)
e.<span class="pl-c1">Put</span>(<span class="pl-s"><span class="pl-pds">"</span>/users/:id<span class="pl-pds">"</span></span>, updateUser)
e.<span class="pl-c1">Delete</span>(<span class="pl-s"><span class="pl-pds">"</span>/users/:id<span class="pl-pds">"</span></span>, deleteUser)</pre></div>

<h3>
<a id="path-parameters" class="anchor" href="#path-parameters" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Path Parameters</h3>

<div class="highlight highlight-source-go"><pre><span class="pl-k">func</span> <span class="pl-en">getUser</span>(<span class="pl-v">c</span> <span class="pl-v">echo</span>.<span class="pl-v">Context</span>) <span class="pl-v">error</span> {
    <span class="pl-c">// User ID from path `users/:id`</span>
    <span class="pl-smi">id</span> <span class="pl-k">:=</span> c.<span class="pl-c1">Param</span>(<span class="pl-s"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span>)
}</pre></div>

<h3>
<a id="query-parameters" class="anchor" href="#query-parameters" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Query Parameters</h3>

<p><code>/show?team=x-men&amp;member=wolverine</code></p>

<div class="highlight highlight-source-go"><pre><span class="pl-k">func</span> <span class="pl-en">show</span>(<span class="pl-v">c</span> <span class="pl-v">echo</span>.<span class="pl-v">Context</span>) <span class="pl-v">error</span> {
    <span class="pl-c">// Get team and member from the query string</span>
    <span class="pl-smi">team</span> <span class="pl-k">:=</span> c.<span class="pl-c1">Query</span>(<span class="pl-s"><span class="pl-pds">"</span>team<span class="pl-pds">"</span></span>)
    <span class="pl-smi">member</span> <span class="pl-k">:=</span> c.<span class="pl-c1">Query</span>(<span class="pl-s"><span class="pl-pds">"</span>member<span class="pl-pds">"</span></span>)
}</pre></div>

<h3>
<a id="form-applicationx-www-form-urlencoded" class="anchor" href="#form-applicationx-www-form-urlencoded" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Form <code>application/x-www-form-urlencoded</code>
</h3>

<p><code>POST</code> <code>/save</code></p>

<table>
<thead>
<tr>
<th align="left">name</th>
<th align="left">value</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">name</td>
<td align="left">Joe Smith</td>
</tr>
<tr>
<td align="left">email</td>
<td align="left"><a href="mailto:joe@labstack.com">joe@labstack.com</a></td>
</tr>
</tbody>
</table>

<div class="highlight highlight-source-go"><pre><span class="pl-k">func</span> <span class="pl-en">save</span>(<span class="pl-v">c</span> <span class="pl-v">echo</span>.<span class="pl-v">Context</span>) <span class="pl-v">error</span> {
    <span class="pl-c">// Get name and email</span>
    <span class="pl-smi">name</span> <span class="pl-k">:=</span> c.<span class="pl-c1">Form</span>(<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>)
    <span class="pl-smi">email</span> <span class="pl-k">:=</span> c.<span class="pl-c1">Form</span>(<span class="pl-s"><span class="pl-pds">"</span>email<span class="pl-pds">"</span></span>)
}</pre></div>

<h3>
<a id="form-multipartform-data" class="anchor" href="#form-multipartform-data" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Form <code>multipart/form-data</code>
</h3>

<p><code>POST</code> <code>/save</code></p>

<table>
<thead>
<tr>
<th align="left">name</th>
<th align="left">value</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">name</td>
<td align="left">Joe Smith</td>
</tr>
<tr>
<td align="left">email</td>
<td align="left"><a href="mailto:joe@labstack.com">joe@labstack.com</a></td>
</tr>
<tr>
<td align="left">avatar</td>
<td align="left">avatar</td>
</tr>
</tbody>
</table>

<div class="highlight highlight-source-go"><pre><span class="pl-k">func</span> <span class="pl-en">save</span>(<span class="pl-v">c</span> <span class="pl-v">echo</span>.<span class="pl-v">Context</span>) <span class="pl-v">error</span> {
    <span class="pl-c">// Get name and email</span>
    <span class="pl-smi">name</span> <span class="pl-k">:=</span> c.<span class="pl-c1">Form</span>(<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>)
    <span class="pl-smi">email</span> <span class="pl-k">:=</span> c.<span class="pl-c1">Form</span>(<span class="pl-s"><span class="pl-pds">"</span>email<span class="pl-pds">"</span></span>)

    <span class="pl-c">//------------</span>
    <span class="pl-c">// Get avatar</span>
    <span class="pl-c">//------------</span>

    <span class="pl-smi">src</span>, <span class="pl-smi">fileHeader</span>, <span class="pl-smi">err</span> <span class="pl-k">:=</span> c.<span class="pl-c1">FormFile</span>(<span class="pl-s"><span class="pl-pds">"</span>avatar<span class="pl-pds">"</span></span>)
    <span class="pl-k">if</span> err != <span class="pl-c1">nil</span> {
        <span class="pl-k">return</span> err
    }
    <span class="pl-k">defer</span> src.<span class="pl-c1">Close</span>()

    <span class="pl-c">// Destination</span>
    <span class="pl-smi">file</span>, <span class="pl-smi">err</span> <span class="pl-k">:=</span> os.<span class="pl-c1">Create</span>(fileHeader.<span class="pl-smi">Filename</span>)
    <span class="pl-k">if</span> err != <span class="pl-c1">nil</span> {
        <span class="pl-k">return</span> err
    }
    <span class="pl-k">defer</span> file.<span class="pl-c1">Close</span>()

    <span class="pl-c">// Copy</span>
    <span class="pl-k">if</span> _, err = io.<span class="pl-c1">Copy</span>(file, src); err != <span class="pl-c1">nil</span> {
        <span class="pl-k">return</span> err
    }
}</pre></div>

<h3>
<a id="handling-request" class="anchor" href="#handling-request" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Handling Request</h3>

<ul>
<li>Bind <code>JSON</code> or <code>XML</code> payload into Go struct based on <code>Content-Type</code> request header.</li>
<li>Render response as <code>JSON</code> or <code>XML</code> with status code.</li>
</ul>

<div class="highlight highlight-source-go"><pre><span class="pl-k">type</span> <span class="pl-v">User</span> <span class="pl-k">struct</span> {
    <span class="pl-v">Name</span>  <span class="pl-k">string</span> <span class="pl-s"><span class="pl-pds">`</span>json:"name" xml:"name"<span class="pl-pds">`</span></span>
    <span class="pl-v">Email</span> <span class="pl-k">string</span> <span class="pl-s"><span class="pl-pds">`</span>json:"email" xml:"email"<span class="pl-pds">`</span></span>
}

e.<span class="pl-c1">Post</span>(<span class="pl-s"><span class="pl-pds">"</span>/users<span class="pl-pds">"</span></span>, <span class="pl-c1">func</span>(c echo.<span class="pl-smi">Context</span>) <span class="pl-k">error</span> {
    <span class="pl-smi">u</span> <span class="pl-k">:=</span> <span class="pl-c1">new</span>(User)
    <span class="pl-k">if</span> <span class="pl-smi">err</span> <span class="pl-k">:=</span> c.<span class="pl-c1">MustBind</span>(u); err != <span class="pl-c1">nil</span> {
        <span class="pl-k">return</span> err
    }
    <span class="pl-k">return</span> c.<span class="pl-c1">JSON</span>(u, http.<span class="pl-smi">StatusCreated</span>)
    <span class="pl-c">// or</span>
    <span class="pl-c">// return c.XML(u, http.StatusCreated)</span>
})</pre></div>

<h3>
<a id="static-content" class="anchor" href="#static-content" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Static Content</h3>

<p>Server any file from static directory for path <code>/static/*</code>.</p>

<div class="highlight highlight-source-go"><pre>e.<span class="pl-c1">Use</span>(mw.<span class="pl-c1">Static</span>(&amp;mw.<span class="pl-smi">StaticOptions</span>{
    <span class="pl-v">Root</span>:<span class="pl-s"><span class="pl-pds">"</span>static<span class="pl-pds">"</span></span>, <span class="pl-c">//存放静态文件的物理路径</span>
    <span class="pl-v">Path</span>:<span class="pl-s"><span class="pl-pds">"</span>/static/<span class="pl-pds">"</span></span>, <span class="pl-c">//网址访问静态文件的路径</span>
    <span class="pl-v">Browse</span>:<span class="pl-c1">true</span>, <span class="pl-c">//是否在首页显示文件列表</span>
}))</pre></div>

<h3>
<a id="middleware" class="anchor" href="#middleware" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Middleware</h3>

<div class="highlight highlight-source-go"><pre><span class="pl-c">// Root level middleware</span>
e.<span class="pl-c1">Use</span>(middleware.<span class="pl-c1">Log</span>())
e.<span class="pl-c1">Use</span>(middleware.<span class="pl-c1">Recover</span>())

<span class="pl-c">// Group level middleware</span>
<span class="pl-smi">g</span> <span class="pl-k">:=</span> e.<span class="pl-c1">Group</span>(<span class="pl-s"><span class="pl-pds">"</span>/admin<span class="pl-pds">"</span></span>)
g.<span class="pl-c1">Use</span>(middleware.<span class="pl-c1">BasicAuth</span>(<span class="pl-k">func</span>(username, password <span class="pl-k">string</span>) <span class="pl-k">bool</span> {
    <span class="pl-k">if</span> username == <span class="pl-s"><span class="pl-pds">"</span>joe<span class="pl-pds">"</span></span> &amp;&amp; password == <span class="pl-s"><span class="pl-pds">"</span>secret<span class="pl-pds">"</span></span> {
        <span class="pl-k">return</span> <span class="pl-c1">true</span>
    }
    <span class="pl-k">return</span> <span class="pl-c1">false</span>
}))

<span class="pl-c">// Route level middleware</span>
<span class="pl-smi">track</span> <span class="pl-k">:=</span> <span class="pl-c1">func</span>(next echo.<span class="pl-smi">HandlerFunc</span>) echo.<span class="pl-smi">HandlerFunc</span> {
    <span class="pl-k">return</span> <span class="pl-c1">func</span>(c echo.<span class="pl-smi">Context</span>) <span class="pl-k">error</span> {
        <span class="pl-c1">println</span>(<span class="pl-s"><span class="pl-pds">"</span>request to /users<span class="pl-pds">"</span></span>)
        <span class="pl-k">return</span> next.<span class="pl-c1">Handle</span>(c)
    }
}
e.<span class="pl-c1">Get</span>(<span class="pl-s"><span class="pl-pds">"</span>/users<span class="pl-pds">"</span></span>, <span class="pl-c1">func</span>(c echo.<span class="pl-smi">Context</span>) <span class="pl-k">error</span> {
    <span class="pl-k">return</span> c.<span class="pl-c1">String</span>(<span class="pl-s"><span class="pl-pds">"</span>/users<span class="pl-pds">"</span></span>, http.<span class="pl-smi">StatusOK</span>)
}, track)</pre></div>

<h3>
<a id="cookie" class="anchor" href="#cookie" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Cookie</h3>

<div class="highlight highlight-source-go"><pre>e.<span class="pl-c1">Get</span>(<span class="pl-s"><span class="pl-pds">"</span>/setcookie<span class="pl-pds">"</span></span>, <span class="pl-c1">func</span>(c echo.<span class="pl-smi">Context</span>) <span class="pl-k">error</span> {
    c.<span class="pl-c1">SetCookie</span>(<span class="pl-s"><span class="pl-pds">"</span>uid<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>)
    <span class="pl-k">return</span> c.<span class="pl-c1">String</span>(<span class="pl-s"><span class="pl-pds">"</span>/setcookie: uid=<span class="pl-pds">"</span></span>+c.<span class="pl-c1">GetCookie</span>(<span class="pl-s"><span class="pl-pds">"</span>uid<span class="pl-pds">"</span></span>), http.<span class="pl-smi">StatusOK</span>)
})</pre></div>

<h3>
<a id="session" class="anchor" href="#session" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Session</h3>

<div class="highlight highlight-source-go"><pre>...
<span class="pl-k">import</span> (
    ...
    <span class="pl-s"><span class="pl-pds">"</span>github.com/webx-top/echo/middleware/session<span class="pl-pds">"</span></span>
    <span class="pl-c">//boltStore "github.com/webx-top/echo/middleware/session/engine/bolt"</span>
    cookieStore <span class="pl-s"><span class="pl-pds">"</span>github.com/webx-top/echo/middleware/session/engine/cookie<span class="pl-pds">"</span></span>
)
...
<span class="pl-smi">sessionOptions</span> <span class="pl-k">:=</span> &amp;echo.<span class="pl-smi">SessionOptions</span>{
    <span class="pl-v">Engine</span>: <span class="pl-s"><span class="pl-pds">`</span>cookie<span class="pl-pds">`</span></span>,
    <span class="pl-v">Name</span>:   <span class="pl-s"><span class="pl-pds">`</span>SESSIONID<span class="pl-pds">`</span></span>,
    <span class="pl-v">CookieOptions</span>: &amp;echo.<span class="pl-smi">CookieOptions</span>{
        Path:     <span class="pl-s"><span class="pl-pds">`</span>/<span class="pl-pds">`</span></span>,
        Domain:   <span class="pl-s"><span class="pl-pds">`</span><span class="pl-pds">`</span></span>,
        MaxAge:   <span class="pl-c1">0</span>,
        Secure:   <span class="pl-c1">false</span>,
        HttpOnly: <span class="pl-c1">true</span>,
    },
}

cookieStore.<span class="pl-c1">RegWithOptions</span>(&amp;cookieStore.<span class="pl-smi">CookieOptions</span>{
    <span class="pl-v">KeyPairs</span>: [][]<span class="pl-k">byte</span>{
        []<span class="pl-k">byte</span>(<span class="pl-s"><span class="pl-pds">`</span>123456789012345678901234567890ab<span class="pl-pds">`</span></span>),
    },
    <span class="pl-v">SessionOptions</span>: sessionOptions,
})

e.<span class="pl-c1">Use</span>(session.<span class="pl-c1">Middleware</span>(sessionOptions))

e.<span class="pl-c1">Get</span>(<span class="pl-s"><span class="pl-pds">"</span>/session<span class="pl-pds">"</span></span>, <span class="pl-c1">func</span>(c echo.<span class="pl-smi">Context</span>) <span class="pl-k">error</span> {
    c.<span class="pl-c1">Session</span>().<span class="pl-c1">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>uid<span class="pl-pds">"</span></span>,<span class="pl-c1">1</span>).<span class="pl-c1">Save</span>()
    <span class="pl-k">return</span> c.<span class="pl-c1">String</span>(fmt.<span class="pl-c1">Sprintf</span>(<span class="pl-s"><span class="pl-pds">"</span>/session: uid=<span class="pl-c1">%v</span><span class="pl-pds">"</span></span>,c.<span class="pl-c1">Session</span>().<span class="pl-c1">Get</span>(<span class="pl-s"><span class="pl-pds">"</span>uid<span class="pl-pds">"</span></span>)))
})</pre></div>

<h3>
<a id="websocket" class="anchor" href="#websocket" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Websocket</h3>

<div class="highlight highlight-source-go"><pre>...
<span class="pl-k">import</span> (
    ...
    <span class="pl-s"><span class="pl-pds">"</span>github.com/admpub/websocket<span class="pl-pds">"</span></span>
    <span class="pl-s"><span class="pl-pds">"</span>github.com/webx-top/echo<span class="pl-pds">"</span></span>
    ws <span class="pl-s"><span class="pl-pds">"</span>github.com/webx-top/echo/handler/websocket<span class="pl-pds">"</span></span>
)
...

e.<span class="pl-smi">HandlerWrapper</span> = ws.<span class="pl-smi">HanderWrapper</span>

e.<span class="pl-c1">Get</span>(<span class="pl-s"><span class="pl-pds">"</span>/websocket<span class="pl-pds">"</span></span>, <span class="pl-c1">func</span>(c *websocket.<span class="pl-smi">Conn</span>, ctx echo.<span class="pl-smi">Context</span>) <span class="pl-k">error</span> {
    <span class="pl-c">//push(writer)</span>
    <span class="pl-k">go</span> <span class="pl-k">func</span>() {
        <span class="pl-k">var</span> <span class="pl-smi">counter</span> <span class="pl-k">int</span>
        <span class="pl-k">for</span> {
            <span class="pl-k">if</span> counter &gt;= <span class="pl-c1">10</span> { <span class="pl-c">//测试只推10条</span>
                <span class="pl-k">return</span>
            }
            time.<span class="pl-c1">Sleep</span>(<span class="pl-c1">5</span> * time.<span class="pl-smi">Second</span>)
            <span class="pl-smi">message</span> <span class="pl-k">:=</span> time.<span class="pl-c1">Now</span>().<span class="pl-c1">String</span>()
            ctx.<span class="pl-c1">Logger</span>().<span class="pl-c1">Info</span>(<span class="pl-s"><span class="pl-pds">`</span>Push message: <span class="pl-pds">`</span></span>, message)
            <span class="pl-k">if</span> <span class="pl-smi">err</span> <span class="pl-k">:=</span> c.<span class="pl-c1">WriteMessage</span>(websocket.<span class="pl-smi">TextMessage</span>, []<span class="pl-k">byte</span>(message)); err != <span class="pl-c1">nil</span> {
                ctx.<span class="pl-c1">Logger</span>().<span class="pl-c1">Error</span>(<span class="pl-s"><span class="pl-pds">`</span>Push error: <span class="pl-pds">`</span></span>, err.<span class="pl-c1">Error</span>())
                <span class="pl-k">return</span>
            }
            counter++
        }
    }()

    <span class="pl-c">//echo</span>
    ws.<span class="pl-c1">DefaultExecuter</span>(c, ctx)
    <span class="pl-k">return</span> <span class="pl-c1">nil</span>
})</pre></div>

<p><a href="https://github.com/webx-top/echo/blob/master/handler/websocket/example/main.go">More...</a></p>

<h3>
<a id="sockjs" class="anchor" href="#sockjs" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Sockjs</h3>

<div class="highlight highlight-source-go"><pre>...
<span class="pl-k">import</span> (
    ...
    <span class="pl-s"><span class="pl-pds">"</span>github.com/webx-top/echo<span class="pl-pds">"</span></span>
    <span class="pl-s"><span class="pl-pds">"</span>github.com/admpub/sockjs-go/sockjs<span class="pl-pds">"</span></span>
    ws <span class="pl-s"><span class="pl-pds">"</span>github.com/webx-top/echo/handler/sockjs<span class="pl-pds">"</span></span>
)
...

<span class="pl-smi">options</span> <span class="pl-k">:=</span> ws.<span class="pl-smi">Options</span>{
    <span class="pl-v">Handle</span>: <span class="pl-c1">func</span>(c sockjs.<span class="pl-smi">Session</span>) <span class="pl-k">error</span> {
        <span class="pl-c">//push(writer)</span>
        <span class="pl-k">go</span> <span class="pl-k">func</span>() {
            <span class="pl-k">var</span> <span class="pl-smi">counter</span> <span class="pl-k">int</span>
            <span class="pl-k">for</span> {
                <span class="pl-k">if</span> counter &gt;= <span class="pl-c1">10</span> { <span class="pl-c">//测试只推10条</span>
                    <span class="pl-k">return</span>
                }
                time.<span class="pl-c1">Sleep</span>(<span class="pl-c1">5</span> * time.<span class="pl-smi">Second</span>)
                <span class="pl-smi">message</span> <span class="pl-k">:=</span> time.<span class="pl-c1">Now</span>().<span class="pl-c1">String</span>()
                log.<span class="pl-c1">Info</span>(<span class="pl-s"><span class="pl-pds">`</span>Push message: <span class="pl-pds">`</span></span>, message)
                <span class="pl-k">if</span> <span class="pl-smi">err</span> <span class="pl-k">:=</span> c.<span class="pl-c1">Send</span>(message); err != <span class="pl-c1">nil</span> {
                    log.<span class="pl-c1">Error</span>(<span class="pl-s"><span class="pl-pds">`</span>Push error: <span class="pl-pds">`</span></span>, err.<span class="pl-c1">Error</span>())
                    <span class="pl-k">return</span>
                }
                counter++
            }
        }()

        <span class="pl-c">//echo</span>
        ws.<span class="pl-c1">DefaultExecuter</span>(c)
        <span class="pl-k">return</span> <span class="pl-c1">nil</span>
    },
    <span class="pl-v">Options</span>: sockjs.<span class="pl-smi">DefaultOptions</span>,
    <span class="pl-v">Prefix</span>:  <span class="pl-s"><span class="pl-pds">"</span>/websocket<span class="pl-pds">"</span></span>,
}
options.<span class="pl-c1">Wrapper</span>(e)</pre></div>

<p><a href="https://github.com/webx-top/echo/blob/master/handler/sockjs/example/main.go">More...</a></p>

<h3>
<a id="other-example" class="anchor" href="#other-example" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Other Example</h3>

<div class="highlight highlight-source-go"><pre><span class="pl-k">package</span> main

<span class="pl-k">import</span> (
    <span class="pl-s"><span class="pl-pds">"</span>net/http<span class="pl-pds">"</span></span>

    <span class="pl-s"><span class="pl-pds">"</span>github.com/webx-top/echo<span class="pl-pds">"</span></span>
    <span class="pl-c">// "github.com/webx-top/echo/engine/fasthttp"</span>
    <span class="pl-s"><span class="pl-pds">"</span>github.com/webx-top/echo/engine/standard<span class="pl-pds">"</span></span>
    mw <span class="pl-s"><span class="pl-pds">"</span>github.com/webx-top/echo/middleware<span class="pl-pds">"</span></span>
)

<span class="pl-k">func</span> <span class="pl-en">main</span>() {
    <span class="pl-smi">e</span> <span class="pl-k">:=</span> echo.<span class="pl-c1">New</span>()
    e.<span class="pl-c1">Use</span>(mw.<span class="pl-c1">Log</span>())

    e.<span class="pl-c1">Get</span>(<span class="pl-s"><span class="pl-pds">"</span>/<span class="pl-pds">"</span></span>, <span class="pl-c1">func</span>(c echo.<span class="pl-smi">Context</span>) <span class="pl-k">error</span> {
        <span class="pl-k">return</span> c.<span class="pl-c1">String</span>(<span class="pl-s"><span class="pl-pds">"</span>Hello, World!<span class="pl-pds">"</span></span>)
    })
    e.<span class="pl-c1">Get</span>(<span class="pl-s"><span class="pl-pds">"</span>/echo/:name<span class="pl-pds">"</span></span>, <span class="pl-c1">func</span>(c echo.<span class="pl-smi">Context</span>) <span class="pl-k">error</span> {
        <span class="pl-k">return</span> c.<span class="pl-c1">String</span>(<span class="pl-s"><span class="pl-pds">"</span>Echo <span class="pl-pds">"</span></span> + c.<span class="pl-c1">Param</span>(<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>))
    })

    e.<span class="pl-c1">Get</span>(<span class="pl-s"><span class="pl-pds">"</span>/std<span class="pl-pds">"</span></span>, <span class="pl-c1">func</span>(w http.<span class="pl-smi">ResponseWriter</span>, r *http.<span class="pl-smi">Request</span>) {
        w.<span class="pl-c1">Write</span>([]<span class="pl-k">byte</span>(<span class="pl-s"><span class="pl-pds">`</span>standard net/http handleFunc<span class="pl-pds">`</span></span>))
        w.<span class="pl-c1">WriteHeader</span>(<span class="pl-c1">200</span>)
    })

    <span class="pl-c">// FastHTTP</span>
    <span class="pl-c">// e.Run(fasthttp.New(":4444"))</span>

    <span class="pl-c">// Standard</span>
    e.<span class="pl-c1">Run</span>(standard.<span class="pl-c1">New</span>(<span class="pl-s"><span class="pl-pds">"</span>:4444<span class="pl-pds">"</span></span>))
}</pre></div>

<p><a href="https://github.com/admpub/echo-example/blob/master/_v2/main.go">See other examples...</a></p>

<h2>
<a id="middleware-list" class="anchor" href="#middleware-list" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Middleware list</h2>

<table>
<thead>
<tr>
<th align="left">Middleware</th>
<th align="left">Import path</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><a href="https://github.com/webx-top/echo/blob/master/middleware/auth.go">BasicAuth</a></td>
<td align="left">github.com/webx-top/echo/middleware</td>
<td align="left">HTTP basic authentication</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/webx-top/echo/blob/master/middleware/bodylimit.go">BodyLimit</a></td>
<td align="left">github.com/webx-top/echo/middleware</td>
<td align="left">Limit request body</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/webx-top/echo/blob/master/middleware/compress.go">Gzip</a></td>
<td align="left">github.com/webx-top/echo/middleware</td>
<td align="left">Send gzip HTTP response</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/webx-top/echo/blob/master/middleware/secure.go">Secure</a></td>
<td align="left">github.com/webx-top/echo/middleware</td>
<td align="left">Protection against attacks</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/webx-top/echo/blob/master/middleware/cors.go">CORS</a></td>
<td align="left">github.com/webx-top/echo/middleware</td>
<td align="left">Cross-Origin Resource Sharing</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/webx-top/echo/blob/master/middleware/csrf.go">CSRF</a></td>
<td align="left">github.com/webx-top/echo/middleware</td>
<td align="left">Cross-Site Request Forgery</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/webx-top/echo/blob/master/middleware/log.go">Log</a></td>
<td align="left">github.com/webx-top/echo/middleware</td>
<td align="left">Log HTTP requests</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/webx-top/echo/blob/master/middleware/methodOverride.go">MethodOverride</a></td>
<td align="left">github.com/webx-top/echo/middleware</td>
<td align="left">Override request method</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/webx-top/echo/blob/master/middleware/recover.go">Recover</a></td>
<td align="left">github.com/webx-top/echo/middleware</td>
<td align="left">Recover from panics</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/webx-top/echo/blob/master/middleware/redirect.go">HTTPSRedirect</a></td>
<td align="left">github.com/webx-top/echo/middleware</td>
<td align="left">Redirect HTTP requests to HTTPS</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/webx-top/echo/blob/master/middleware/redirect.go">HTTPSWWWRedirect</a></td>
<td align="left">github.com/webx-top/echo/middleware</td>
<td align="left">Redirect HTTP requests to WWW HTTPS</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/webx-top/echo/blob/master/middleware/redirect.go">WWWRedirect</a></td>
<td align="left">github.com/webx-top/echo/middleware</td>
<td align="left">Redirect non WWW requests to WWW</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/webx-top/echo/blob/master/middleware/redirect.go">NonWWWRedirect</a></td>
<td align="left">github.com/webx-top/echo/middleware</td>
<td align="left">Redirect WWW requests to non WWW</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/webx-top/echo/blob/master/middleware/slash.go">AddTrailingSlash</a></td>
<td align="left">github.com/webx-top/echo/middleware</td>
<td align="left">Add trailing slash to the request URI</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/webx-top/echo/blob/master/middleware/slash.go">RemoveTrailingSlash</a></td>
<td align="left">github.com/webx-top/echo/middleware</td>
<td align="left">Remove trailing slash from the request URI</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/webx-top/echo/blob/master/middleware/static.go">Static</a></td>
<td align="left">github.com/webx-top/echo/middleware</td>
<td align="left">Serve static files</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/webx-top/echo/blob/master/middleware/limit.go">MaxAllowed</a></td>
<td align="left">github.com/webx-top/echo/middleware</td>
<td align="left">MaxAllowed limits simultaneous requests; can help with high traffic load</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/webx-top/echo/tree/master/middleware/ratelimit">RateLimit</a></td>
<td align="left">github.com/webx-top/echo/middleware/ratelimit</td>
<td align="left">Rate limiting HTTP requests</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/webx-top/echo/tree/master/middleware/language">Language</a></td>
<td align="left">github.com/webx-top/echo/middleware/language</td>
<td align="left">Multi-language support</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/webx-top/echo/blob/master/middleware/session/middleware.go">Session</a></td>
<td align="left">github.com/webx-top/echo/middleware/session</td>
<td align="left">Sessions Manager</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/webx-top/echo/blob/master/middleware/jwt/jwt.go">JWT</a></td>
<td align="left">github.com/webx-top/echo/middleware/jwt</td>
<td align="left">JWT authentication</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/webx-top/echo/blob/master/middleware/hydra/hydra.go">Hydra</a></td>
<td align="left">github.com/webx-top/echo/middleware/hydra</td>
<td align="left">It uses <a href="https://github.com/ory-am/hydra">Hydra</a>'s API to extract and validate auth token.</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/webx-top/echo/blob/master/middleware/markdown/markdown.go">Markdown</a></td>
<td align="left">github.com/webx-top/echo/middleware/markdown</td>
<td align="left">Markdown rendering</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/webx-top/echo/blob/master/middleware/render/middleware.go">Render</a></td>
<td align="left">github.com/webx-top/echo/middleware/render</td>
<td align="left">HTML template rendering</td>
</tr>
<tr>
<td align="left"><a href="https://github.com/webx-top/reverseproxy/blob/master/middleware.go">ReverseProxy</a></td>
<td align="left">github.com/webx-top/reverseproxy</td>
<td align="left">Reverse proxy</td>
</tr>
</tbody>
</table>

<h2>
<a id="handler-wrapper-list" class="anchor" href="#handler-wrapper-list" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Handler Wrapper list</h2>

<table>
<thead>
<tr>
<th align="left">Wrapper</th>
<th align="left">Import path</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Websocket</td>
<td align="left">github.com/webx-top/echo/handler/websocket</td>
<td align="left"><a href="https://github.com/webx-top/echo/blob/master/handler/websocket/example/main.go">Example</a></td>
</tr>
<tr>
<td align="left">Sockjs</td>
<td align="left">github.com/webx-top/echo/handler/sockjs</td>
<td align="left"><a href="https://github.com/webx-top/echo/blob/master/handler/sockjs/example/main.go">Example</a></td>
</tr>
<tr>
<td align="left">Oauth2</td>
<td align="left">github.com/webx-top/echo/handler/oauth2</td>
<td align="left"><a href="https://github.com/webx-top/echo/blob/master/handler/oauth2/example/main.go">Example</a></td>
</tr>
<tr>
<td align="left">Pprof</td>
<td align="left">github.com/webx-top/echo/handler/pprof</td>
<td align="left">-</td>
</tr>
</tbody>
</table>

<h2>
<a id="credits" class="anchor" href="#credits" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Credits</h2>

<ul>
<li>
<a href="https://github.com/vishr">Vishal Rana</a> - Author</li>
<li>
<a href="https://github.com/admpub">Hank Shen</a> - Author</li>
<li>
<a href="https://github.com/nr17">Nitin Rana</a> - Consultant</li>
<li><a href="https://github.com/webx-top/echo/graphs/contributors">Contributors</a></li>
</ul>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<p><a href="https://github.com/webx-top/echo/blob/master/LICENSE">Apache 2</a></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/webx-top/echo">Echo</a> is maintained by <a href="https://github.com/webx-top">webx-top</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
